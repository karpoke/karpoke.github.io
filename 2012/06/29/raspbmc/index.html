<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Nacho Cano" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="12.04, compartir conexión, debian, htpc, iptables, nat, raspberry pi, raspbmc, redirección ip, ubuntu precise pangolin, xbmc, admin, " />

<meta property="og:title" content="Raspbmc "/>
<meta property="og:url" content="https://karpoke.ignaciocano.com/2012/06/29/raspbmc/" />
<meta property="og:description" content="Raspbmc es una distribución basada en debian que permite ejecutar XBMC en la Raspberry Pi, lo que la transforma en un interesante reproductor multimedia casero (HTPC). Esta distribución recibe actualizaciones constantes que añaden mejoras, actualizaciones de drivers y nuevas funcionalidades. Además, permite compartir el contenido multimedia a través de NFS …" />
<meta property="og:site_name" content="Karpoke" />
<meta property="og:article:author" content="Nacho Cano" />
<meta property="og:article:published_time" content="2012-06-29T04:45:00+02:00" />
<meta name="twitter:title" content="Raspbmc ">
<meta name="twitter:description" content="Raspbmc es una distribución basada en debian que permite ejecutar XBMC en la Raspberry Pi, lo que la transforma en un interesante reproductor multimedia casero (HTPC). Esta distribución recibe actualizaciones constantes que añaden mejoras, actualizaciones de drivers y nuevas funcionalidades. Además, permite compartir el contenido multimedia a través de NFS …">

        <title>Raspbmc  · Karpoke
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/css/admonition.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/css/custom.css" media="screen">

        <link href="https://karpoke.ignaciocano.com/feeds/all/rss.xml" type="application/rss+xml" rel="alternate" title="Karpoke - Full RSS Feed" />
        <link href="https://karpoke.ignaciocano.com/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Karpoke - RSS Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://karpoke.ignaciocano.com/"><span class=site-name>Karpoke</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://karpoke.ignaciocano.com
                                    >Home</a>
                                </li>
                                <li ><a href="https://karpoke.ignaciocano.com/whoami/">Who am I</a></li>
                                <li ><a href="https://karpoke.ignaciocano.com/categorias/">Categories</a></li>
                                <li ><a href="https://karpoke.ignaciocano.com/etiquetas/">Tags</a></li>
                                <li ><a href="https://karpoke.ignaciocano.com/archivos/">Archives</a></li>
                                <li><form class="navbar-search" action="https://karpoke.ignaciocano.com/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://karpoke.ignaciocano.com/2012/06/29/raspbmc/">
                Raspbmc
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p><a href="http://www.raspbmc.com/" title="Raspbmc">Raspbmc</a> es una distribución basada en debian que permite ejecutar
XBMC en la Raspberry Pi, lo que la transforma en un interesante
reproductor multimedia casero (HTPC).</p>
<p><img alt="Raspbmc logo" src="https://karpoke.ignaciocano.com/images/raspbmc-logo.png" /></p>
<p>Esta distribución recibe actualizaciones constantes que añaden mejoras,
actualizaciones de <em>drivers</em> y nuevas funcionalidades. Además, permite
compartir el contenido multimedia a través de NFS, SMB, FTP y HTTP.
Raspbmc ha sido creada y está siendo mantenida por Sam Nazarko.</p>
<p><img alt="Raspbmc XBMC" src="https://karpoke.ignaciocano.com/images/raspbmc-xbmc-300x196.jpg" /></p>
<p><small><em>Fuente <a href="http://www.retrocomputers.eu/2012/06/20/watching-micro-men-via-xbmc-on-the-raspberry-pi/" title="retrocomputers.eu">retrocomputers.eu</a></em></small></p>
<h2>Instalación</h2>
<p>La instalación es muy sencilla, ya que existe un <em>script</em> que nos
simplifica el proceso. Lo descargamos:</p>
<p><code>bash
$ wget http://svn.stmlabs.com/svn/raspbmc/testing/installers/python/install.py</code></p>
<p>Introducimos la tarjeta SD y nos aseguramos de que esté desmontada antes
de lanzar el <em>script</em>. Deberemos saber el nombre de dispositivo que
tiene la tarjeta SD, en este caso <code>/dev/mmcblk0</code>:</p>
<p>```bash
$ sudo python install-raspbmc.py
Raspbmc installer for Linux and Mac OS X
http://raspbmc.com</p>
<hr />
<p>Please ensure you've inserted your SD card, and press Enter to continue.</p>
<p>Enter the 'Disk' you would like imaged, from the following list:</p>
<p>Enter your choice here (e.g. 'mmcblk0' or 'sdd'): mmcblk0
It is your own responsibility to ensure there is no data loss! Please backup your system before imaging
Are you sure you want to install Raspbmc to '/dev/mmcblk0'? [y/N] y
Downloading, please be patient...
Downloaded 49.52 of 49.52 MiB (100.00%)</p>
<p>Please wait while Raspbmc is installed to your SD card...
(This may take some time and no progress will be reported until it has finished.)
0+5852 registros leídos
0+5852 registros escritos
198000640 bytes (198 MB) copiados, 21,7791 s, 9,1 MB/s
Installation complete.
Finalising SD card, please wait...</p>
<p>Raspbmc is now ready to finish setup on your Pi, please insert the
SD card with an active internet connection
```</p>
<p>Tras insertar la tarjeta SD en la Raspberry Pi y reiniciar, continuará
la instalación y configuración del sistema. En particular, no tendremos
que preocuparnos de <a href="https://karpoke.ignaciocano.com/2012/06/21/raspberry-pi/" title="modificar las particiones para aprovechar al máximo el espacio de la tarjeta SD">modificar las particiones para aprovechar al máximo
el espacio de la tarjeta SD</a>, ya que lo hace de forma automática. Es
necesario que la Raspberry Pi esté conectada a Internet. Una vez que
termine, reiniciará y aparecerá la interfaz de XBMC. La descarga e
instalación puede tardar un rato, entre 15 y 20 minutos. Esto lo comento
especialmente por si hay alguien que el primer arranque lo realiza sin
que la RPi esté conectada a ninguna pantalla, para que no desespere
hasta que por fin pueda conectarse por ssh.</p>
<p>Además, ya está preparada y configurada para que accedamos por SSH y
FTP. El usuario el <strong>pi</strong> y la contraseña <code>raspberry</code>, aunque quizá esta
es una de <a href="https://karpoke.ignaciocano.com/2012/06/21/raspberry-pi/" title="las primeras cosas que debamos cambiar nada más terminar la instalación">las primeras cosas que debamos cambiar nada más terminar la
instalación</a>.</p>
<h2>Conexión a través de otro equipo</h2>
<p>Ya que parece que <a href="https://karpoke.ignaciocano.com/2012/06/21/raspberry-pi/" title="la antena WIFI USB no funciona si no es con _hub_ USB con alimentación">la antena WIFI USB no funciona si no es con <em>hub</em> USB
con alimentación</a>, y ahora mismo no tengo uno a mano, y la conexión
directa por cable al <em>router</em> no es posible (desde donde pensaba colocar
la Raspberry Pi), he probado otra posibilidad, y es <a href="http://www.raspberrypi.org/phpBB3/viewtopic.php?t=6997&amp;p=94689" title="conectarla por cable a un portátil">conectarla por
cable a un portátil</a> que hará de intermediario y me permitirá
conectarme a y tener conexión en la Raspberry Pi.</p>
<p>En el portátil, en este caso con Ubuntu Precise Pangolin 12.04, vamos a
Configuración de Red &gt; Cableada &gt; Opciones (será accesible cuando
conectemos el cable a la Raspberry Pi estando encendida) &gt; Ajustes de
IPv4:</p>
<ul>
<li>seleccionamos "Compartida con otros equipos"</li>
<li>marcamos "Requiere dirección IPv4 para que esta conexión se
    complete"</li>
</ul>
<p>Esto nos asigna por defecto la dirección IP 10.42.0.1, máscara
255.255.255.0 y ruta predeterminada 0.0.0.0. Parece que no es
configurable.</p>
<p>Debemos prestar atención al cortafuegos, y permitir la compartición de la
conexión. Por ejemplo, con Firestarter, vamos a Cortafuegos &gt; Ejecutar
asistente:</p>
<ul>
<li>Dispositivo(s) detectado(s): seleccionamos "Dipositivo inalámbrico
    (wlan1)"</li>
<li>Marcamos "Activar la compartición de la conexión a Internet"</li>
<li>Dispositivo de red de área local: seleccionamos "Dispositivo
    ethernet (eth0)"</li>
</ul>
<p>También podemos hacerlo a mano con <code>iptables</code>. Si estamos seguros de que
no utilizamos ninguna otra regla en la NAT, la podemos limpiar:</p>
<p><code>bash
$ sudo iptables -F -t nat</code></p>
<p>Ahora deberemos crear una regla para indicar la otra interfaz que hará
de puente, en este caso <code>wlan1</code>:</p>
<p><code>bash
$ sudo iptables --table nat --append POSTROUTING --out-interface wlan1 -j MASQUERADE</code></p>
<p>Y por último, activamos la redirección IP:</p>
<p><code>bash
$ sudo sh -c "echo 1 &gt; /proc/sys/net/ipv4/ip_forward"</code></p>
<p>Si optamos por el método manual, y queremos que se ejecute cada vez que
arranca el portátil (algo que puede no ser necesario), añadimos al final
del fichero <code>/etc/rc.local</code>:</p>
<p><code>bash
iptables -F -t nat
iptables --table nat --append POSTROUTING --out-interface wlan1 -j MASQUERADE
echo 1 &gt; /proc/sys/net/ipv4/ip_forward</code></p>
<p>Con esto el portátil ya está configurado, ahora sólo queda configurar la
Rasperry Pi para que tenga IP estática de la misma red que tenemos en la
interfaz del portátil. Vamos a Programs &gt; Raspbmc Settings &gt; Wired
Network:</p>
<ul>
<li>IP address: 10.42.0.50</li>
<li>Netmask: 255.255.255.0</li>
<li>Gateway: 10.42.0.1 (la IP del portátil)</li>
<li>DNS Server: 208.67.222.222</li>
<li>Search domain: local</li>
</ul>
<p>Esta es una solución temporal y tiene sus inconvenientes, ya que
necesitamos conectar otro equipo por cable a la Raspberry Pi para
conectarnos "remotamente" por SSH, ya sea para llevar a cabo
actualizaciones, instalar programas, instalar complementos o copiar
archivos multimedia. Además, mientras no esté conectada al portátil no
podremos hacer uso de los complementos que necesitan acceso a Internet y
con este método tampoco podremos utilizar la <a href="https://play.google.com/store/apps/details?id=org.xbmc.android.remote" title="aplicación para Android para controlar XBMC">aplicación para Android
para controlar XBMC</a>.</p>


            
            
            






            <hr/>
<section>
    <h2>Entradas relacionadas</h2>
<ul class="related-posts-list">
<li><a href="https://karpoke.ignaciocano.com/2011/08/05/servicio-de-ssh-con-sistema-de-verificacion-en-dos-pasos-de-google-en-ubuntu-natty-narwhal/" title="Servicio de SSH con sistema de verificación en dos pasos de Google en Ubuntu Natty Narwhal">Servicio de SSH con sistema de verificación en dos pasos de Google en Ubuntu Natty Narwhal</a></li>
<li><a href="https://karpoke.ignaciocano.com/2012/06/21/raspberry-pi/" title="Raspberry Pi">Raspberry Pi</a></li>
<li><a href="https://karpoke.ignaciocano.com/2012/06/28/mostrar-las-aplicaciones-ocultas-que-se-ejecutan-al-inicio/" title="Mostrar las aplicaciones ocultas que se ejecutan al inicio">Mostrar las aplicaciones ocultas que se ejecutan al inicio</a></li>
<li><a href="https://karpoke.ignaciocano.com/2012/07/03/conexion-inalambrica-en-raspbmc/" title="Conexión inalámbrica en Raspbmc">Conexión inalámbrica en Raspbmc</a></li>
<li><a href="https://karpoke.ignaciocano.com/2012/09/30/autenticacion-hardware-mediante-un-usb/" title="Autenticación hardware mediante un USB">Autenticación hardware mediante un USB</a></li>
</ul>
<hr />
</section>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://karpoke.ignaciocano.com/2012/06/28/gnu-make-in-detail-for-beginners/" title="Previous: GNU Make in Detail for Beginners">GNU Make in Detail for Beginners</a></li>
                <li class="next-article"><a href="https://karpoke.ignaciocano.com/2012/07/01/paper-enigma/" title="Next: Paper Enigma">Paper Enigma</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2012-06-29T04:45:00+02:00">Jun 29, 2012</time>
            <h4>Category</h4>
            <a class="category-link" href="https://karpoke.ignaciocano.com/categorias/#admin-ref">admin</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#1204-ref">12.04
                    <span>9</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#compartir-conexion-ref">compartir conexión
                    <span>1</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#debian-ref">debian
                    <span>3</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#htpc-ref">htpc
                    <span>1</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#iptables-ref">iptables
                    <span>3</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#nat-ref">nat
                    <span>1</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#raspberry-pi-ref">raspberry pi
                    <span>8</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#raspbmc-ref">raspbmc
                    <span>3</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#redireccion-ip-ref">redirección ip
                    <span>1</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#ubuntu-precise-pangolin-ref">ubuntu precise pangolin
                    <span>4</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#xbmc-ref">xbmc
                    <span>2</span>
</a></li>
            </ul>
<h4>Contacto</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/karpoke" title="" target="_blank" rel="nofollow">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="/feeds/all/rss.xml" title="" target="_blank" rel="nofollow">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </div>
        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        2010-2019 (cc) Contenido bajo licencia <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/es/">Creative Commons Reconocimiento-CompartirIgual</a>.
    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>
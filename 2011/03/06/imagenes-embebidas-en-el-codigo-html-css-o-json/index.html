<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Nacho Cano" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="base64, css, data:URI, json, rfc2397, urldec, urlenc, dev, " />

<meta property="og:title" content="Imágenes embebidas en el código HTML, CSS o JSON "/>
<meta property="og:url" content="https://karpoke.ignaciocano.com/2011/03/06/imagenes-embebidas-en-el-codigo-html-css-o-json/" />
<meta property="og:description" content="Mediante esquema data:URI se pueden incluir imágenes codificadas en base64 en el CSS de una página o en el src de una etiqueta img como si fueran fuentes externas. También se pueden introducir otro tipo de datos, como por ejemplo, código HTML. html &lt;img src=&#34;data:image/png;base64 …" />
<meta property="og:site_name" content="Karpoke" />
<meta property="og:article:author" content="Nacho Cano" />
<meta property="og:article:published_time" content="2011-03-06T18:34:00+01:00" />
<meta name="twitter:title" content="Imágenes embebidas en el código HTML, CSS o JSON ">
<meta name="twitter:description" content="Mediante esquema data:URI se pueden incluir imágenes codificadas en base64 en el CSS de una página o en el src de una etiqueta img como si fueran fuentes externas. También se pueden introducir otro tipo de datos, como por ejemplo, código HTML. html &lt;img src=&#34;data:image/png;base64 …">

        <title>Imágenes embebidas en el código HTML, CSS o JSON  · Karpoke
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/css/admonition.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/css/custom.css" media="screen">

        <link href="https://karpoke.ignaciocano.com/feeds/all/rss.xml" type="application/rss+xml" rel="alternate" title="Karpoke - Full RSS Feed" />
        <link href="https://karpoke.ignaciocano.com/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Karpoke - RSS Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://karpoke.ignaciocano.com/"><span class=site-name>Karpoke</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://karpoke.ignaciocano.com
                                    >Home</a>
                                </li>
                                <li ><a href="https://karpoke.ignaciocano.com/whoami/">Who am I</a></li>
                                <li ><a href="https://karpoke.ignaciocano.com/categorias/">Categories</a></li>
                                <li ><a href="https://karpoke.ignaciocano.com/etiquetas/">Tags</a></li>
                                <li ><a href="https://karpoke.ignaciocano.com/archivos/">Archives</a></li>
                                <li><form class="navbar-search" action="https://karpoke.ignaciocano.com/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://karpoke.ignaciocano.com/2011/03/06/imagenes-embebidas-en-el-codigo-html-css-o-json/">
                Imágenes embebidas en el código HTML, CSS o JSON
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p>Mediante esquema <code>data:URI</code> se pueden <a href="http://mark.koli.ch/2009/07/howto-include-binary-image-data-in-cascading-style-sheets-css.html" title="incluir imágenes codificadas">incluir imágenes codificadas</a>
en <code>base64</code> en el CSS de una página o en el <code>src</code> de una etiqueta <code>img</code>
como si fueran fuentes externas. También se pueden introducir otro tipo
de datos, como por ejemplo, código HTML.</p>
<p><code>html
&lt;img src="data:image/png;base64,iVBORw0KGgo[...]QmCC" title="image" alt="image" /&gt;</code></p>
<p>También se puede utilizar en un <a href="http://mark.koli.ch/2011/01/more-fun-with-rfc-2397----the-data-url-scheme.html" title="JSON">JSON</a>:</p>
<p><code>json
{
 "image":{
  "data_uri":"data:image/png;base64,iVBORw0KGgo[...]QmCC"
 }
}</code></p>
<p><img alt="Google 404" src="https://karpoke.ignaciocano.com/images/google-404-300x112.png" /></p>
<p>Las ventajas de utilizar este método son que no se necesitan abrir
conexiones adicionales para decargar los datos, ya que toda la
información está incluida en el propio archivo, con lo que dejan
recursos disponibles, algo que puede ser especialmente útil en redes
inalámbricas muy saturadas o lentas, como algunas redes de telefonía
móvil, y se crean menos entradas en la caché del navegador. Además, al
estar incluidos en el código se pueden cachear.</p>
<p>Entre los incovenientes, se necesita procesar la imagen para poder
incluirla, los datos codificados en base 64 son hasta un 33% más
grandes, si los datos se utilizan más de una vez en el mismo documento,
deben ser incluidos cada vez, por lo que no se aprovecha la caché del
navegador, la URL tiene un máximo relativamente pequeño y diferente para
cada navegador y, por último, aunque los navegadores más populares lo
soporten, no</p>
<h2>Codificar la imagen</h2>
<p>Para codificar una imagen podemos utilizar el comando <code>base64</code>. El
argumento <code>-w0</code> es para que devuelva el resultado en una sola línea:</p>
<p><code>bash
$ base64 -w0 img.png &gt; img.b64</code></p>
<p>Sin embargo, este formato <a href="http://es.wikipedia.org/wiki/Base64#Aplicaciones_en_URL" title="no es apropiado para URL">no es apropiado para URL</a>, ya que contiene
caracteres como <code>+</code>, <code>/</code> o <code>=</code>, por lo que <a href="https://karpoke.ignaciocano.com/2011/03/06/urlencode-y-urldecode/" title="codificaremos">codificaremos</a> la salida
del comando anterior para que lo sea:</p>
<p><code>bash
$ alias urlenc='furlenc() { perl -MURI::Escape -e "print uri_escape(\"$1\").\"\n\";"; }; furlenc'
$ urlenc $(base64 -w0 img.png) &gt; img.b64</code></p>
<h2>Decodificar una imagen</h2>
<p>Para realizar el paso inverso, obtener la imagen a partir del código en
la página, guardaremos en un fichero, por ejemplo <code>img.b64</code>, el código
en <code>base64</code> referente a la imagen:</p>
<p><code>bash
alias urldec='furldec() { echo "$1" | sed -e'\''s/%\([0-9A-F][0-9A-F]\)/\\\\\x\1/g'\'' | xargs echo -e; }; furldec'
$ urldec $(cat img.b64) | base64 -d &gt; img.png</code></p>
<pre><code>"urlencode y urldecode"
</code></pre>


            
            
            






            <hr/>
<section>
    <h2>Entradas relacionadas</h2>
<ul class="related-posts-list">
<li><a href="https://karpoke.ignaciocano.com/2011/03/06/urlencode-y-urldecode/" title="urlencode y urldecode">urlencode y urldecode</a></li>
<li><a href="https://karpoke.ignaciocano.com/2011/11/28/obtencion-remota-de-ficheros-en-android-2-3-4/" title="Obtención remota de ficheros en Android &lt; 2.3.4">Obtención remota de ficheros en Android < 2.3.4</a></li>
<li><a href="https://karpoke.ignaciocano.com/2016/11/01/8-simple-rules-for-a-robust-scalable-css-architecture/" title="8 simple rules for a robust, scalable CSS architecture">8 simple rules for a robust, scalable CSS architecture</a></li>
</ul>
<hr />
</section>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://karpoke.ignaciocano.com/2011/03/06/urlencode-y-urldecode/" title="Previous: urlencode y urldecode">urlencode y urldecode</a></li>
                <li class="next-article"><a href="https://karpoke.ignaciocano.com/2011/03/07/detectando-intrusos-en-ubuntu-maverick-meerkat/" title="Next: Detectando intrusos en Ubuntu Maverick Meerkat">Detectando intrusos en Ubuntu Maverick Meerkat</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2011-03-06T18:34:00+01:00">Mar 6, 2011</time>
            <h4>Category</h4>
            <a class="category-link" href="https://karpoke.ignaciocano.com/categorias/#dev-ref">dev</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#base64-ref">base64
                    <span>2</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#css-ref">css
                    <span>2</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#datauri-ref">data:URI
                    <span>1</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#json-ref">json
                    <span>1</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#rfc2397-ref">rfc2397
                    <span>1</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#urldec-ref">urldec
                    <span>2</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#urlenc-ref">urlenc
                    <span>2</span>
</a></li>
            </ul>
<h4>Contacto</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/karpoke" title="" target="_blank" rel="nofollow">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="/feeds/all/rss.xml" title="" target="_blank" rel="nofollow">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </div>
        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        2010-2019 (cc) Contenido bajo licencia <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/es/">Creative Commons Reconocimiento-CompartirIgual</a>.
    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>
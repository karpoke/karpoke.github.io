<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Nacho Cano" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="copia de seguridad, getmail, gmail, google, maildir, mbox, admin, " />

<meta property="og:title" content="Copia de seguridad de GMail con getmail "/>
<meta property="og:url" content="https://karpoke.ignaciocano.com/2011/07/08/copia-de-seguridad-de-gmail-con-getmail/" />
<meta property="og:description" content="Hay otras maneras de realizar una copia de seguridad de GMail, como por ejemplo, usar Thunderbird, pero utilizar getmail tiene la ventaja de que es sencillo, puede realizar la copia en formato Maildir y no necesitamos utilizar ningún gestor de correo electrónico. Maildir y mbox Básicamente, en GNU/Linux hay …" />
<meta property="og:site_name" content="Karpoke" />
<meta property="og:article:author" content="Nacho Cano" />
<meta property="og:article:published_time" content="2011-07-08T15:52:00+02:00" />
<meta name="twitter:title" content="Copia de seguridad de GMail con getmail ">
<meta name="twitter:description" content="Hay otras maneras de realizar una copia de seguridad de GMail, como por ejemplo, usar Thunderbird, pero utilizar getmail tiene la ventaja de que es sencillo, puede realizar la copia en formato Maildir y no necesitamos utilizar ningún gestor de correo electrónico. Maildir y mbox Básicamente, en GNU/Linux hay …">

        <title>Copia de seguridad de GMail con getmail  · Karpoke
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/css/admonition.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://karpoke.ignaciocano.com/theme/css/custom.css" media="screen">

        <link href="https://karpoke.ignaciocano.com/feeds/all/rss.xml" type="application/rss+xml" rel="alternate" title="Karpoke - Full RSS Feed" />
        <link href="https://karpoke.ignaciocano.com/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Karpoke - RSS Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://karpoke.ignaciocano.com/"><span class=site-name>Karpoke</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://karpoke.ignaciocano.com
                                    >Home</a>
                                </li>
                                <li ><a href="https://karpoke.ignaciocano.com/whoami/">Who am I</a></li>
                                <li ><a href="https://karpoke.ignaciocano.com/categorias/">Categories</a></li>
                                <li ><a href="https://karpoke.ignaciocano.com/etiquetas/">Tags</a></li>
                                <li ><a href="https://karpoke.ignaciocano.com/archivos/">Archives</a></li>
                                <li><form class="navbar-search" action="https://karpoke.ignaciocano.com/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://karpoke.ignaciocano.com/2011/07/08/copia-de-seguridad-de-gmail-con-getmail/">
                Copia de seguridad de GMail con getmail
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p>Hay otras maneras de realizar una <a href="http://www.mattcutts.com/blog/backup-gmail-in-linux-with-getmail/" title="copia de seguridad de GMail">copia de seguridad de GMail</a>, como
por ejemplo, usar Thunderbird, pero utilizar <code>getmail</code> tiene la ventaja
de que es sencillo, puede realizar la copia en formato Maildir y no
necesitamos utilizar ningún gestor de correo electrónico.</p>
<h2>Maildir y mbox</h2>
<p>Básicamente, en GNU/Linux hay dos maneras de guardar el correo
electrónico, <a href="http://www.linuxmail.info/mbox-maildir-mail-storage-formats/" title="Maildir y mbox">Maildir y mbox</a>.</p>
<h3>Maildir</h3>
<p>Cada correo se guarda en un fichero por separado. Añadir, buscar y
eliminar correos es rápido, no se necesita bloqueo en ninguna operación,
se puede usar en sistemas de ficheros de red y no hay corrupción
(exceptuando fallos de hardware). El inconveniente viene dado porque
algunos sistemas de ficheros no gestionan eficientemente grandes
cantidades de ficheros pequeños, además de que la búsqueda de texto, que
requiere abrir todos los ficheros puede ser lenta.</p>
<p><img alt="Maildir" src="https://karpoke.ignaciocano.com/images/maildir-300x270.png" /></p>
<p><small>Fuente: <a href="http://www.mattcutts.com/blog/backup-gmail-in-linux-with-getmail/" title="copia de seguridad de GMail">mattcutss.com</a></small></p>
<h3>mbox</h3>
<p>Todo el correo se guarda en un único fichero. La ventaja que tiene es
que ampliamente soportado. Añadir y buscar un correo es rápido. Entre
los inconvenientes están los problemas de bloqueo del fichero para cada
operación (añadir, borrar y buscar), problemas cuando se usa en sistemas
de ficheros de red y que el formato se corrompe fácilmente.</p>
<p><img alt="mbox" src="https://karpoke.ignaciocano.com/images/mbox.png" /></p>
<p><small>Fuente: <a href="http://www.mattcutts.com/blog/backup-gmail-in-linux-with-getmail/" title="copia de seguridad de GMail">mattcutss.com</a></small></p>
<h2>Realizar el backup</h2>
<p>Instalamos <code>getmail</code>:</p>
<p><code>bash
$ sudo aptitude install getmail4</code></p>
<p><a href="http://mail.google.com/support/bin/answer.py?hl=en&amp;answer=13273" title="Activamos POP3 en GMail">Activamos POP3 en GMail</a>. Vamos a <em>Configuración del correo &gt;
Reenvío y POP &gt; Activar POP para todo el correo</em>.</p>
<p><img alt="POP" src="https://karpoke.ignaciocano.com/images/pop-300x166.gif" /></p>
<p><small>Fuente: <a href="http://mail.google.com/support/bin/answer.py?hl=en&amp;answer=13273" title="Activamos POP3 en GMail">mail.google.com</a></small></p>
<p>Creamos el directorio de configuración de <code>getmail</code>:</p>
<p><code>bash
$ mkdir ~/.getmail</code></p>
<p>Y creamos el fichero <code>~/.getmail/getmail.gmail</code>:</p>
<p>```bash
[retriever]
type = SimplePOP3SSLRetriever
server = pop.gmail.com
username = bob@gmail.com
password = mypass</p>
<p>[destination]
type = Maildir
path = ~/gmail-archive/</p>
<p>[options]</p>
<h1>print messages about each action (verbose = 2)</h1>
<h1>Other options:</h1>
<h1>0 prints only warnings and errors</h1>
<h1>1 prints messages about retrieving and deleting messages only</h1>
<p>verbose = 2provocado por un cambio en las lib
message_log = ~/.getmail/gmail.log
```</p>
<p>Creamos los directorios donde se guardará el correo descargado:</p>
<p><code>bash
$ mkdir -p ~/gmail-archive/{cur,new,tmp}</code></p>
<p>Ya podemos empezar con la copia <code>getmail</code>:</p>
<p><code>bash
$ getmail -r ~/.getmail/getmail.gmail</code></p>
<p>El correo se bajará en tandas de pocos cientos, dado que GMail sólo
permite descargar eso cada vez, por lo que deberemos repetir la
operación unas cuantas veces.</p>
<hr />
<h4>Actualización a 1 de diciembre de 2015</h4>
<p>Desde hace un tiempo, cuando voy a realizar la descarga de nuevos
correos, empiezo a recibir errores del tipo:</p>
<p><code>bash
    Retrieval error: server for SimplePOP3SSLRetriever:bob@gmail.com@pop.gmail.com:995 is broken; offered message GmailId3af2edcdc36d18d2 but failed to provide it.  Please notify the administrator of the server.  Skipping message...</code></p>
<p>Al parece, se debe a un <a href="http://permalink.gmane.org/gmane.mail.getmail.user/5375" title="fallo">fallo</a> que ha sido corregido a partir de la
versión 4.48.0.</p>
<hr />
<h2>Referencias</h2>
<p>» <a href="http://pyropus.ca/software/getmail/configuration.html" title="getmail documentation">getmail documentation</a></p>


            
            
            






            <hr/>
<section>
    <h2>Entradas relacionadas</h2>
<ul class="related-posts-list">
<li><a href="https://karpoke.ignaciocano.com/2010/12/30/la-infame-actualizacion-de-wordpress-en-15-segundos/" title="La infame actualización de WordPress en 15 segundos">La infame actualización de WordPress en 15 segundos</a></li>
<li><a href="https://karpoke.ignaciocano.com/2011/06/30/extraer-un-archivo-de-un-archivo-comprimido-desde-el-terminal/" title="Extraer un archivo de un archivo comprimido, desde el terminal">Extraer un archivo de un archivo comprimido, desde el terminal</a></li>
<li><a href="https://karpoke.ignaciocano.com/2012/06/22/arch-en-raspberry-pi/" title="Arch en Raspberry Pi">Arch en Raspberry Pi</a></li>
<li><a href="https://karpoke.ignaciocano.com/2012/06/23/abrir-archivos-tec-en-gnulinux/" title="Abrir archivos .tec en GNU/Linux">Abrir archivos .tec en GNU/Linux</a></li>
<li><a href="https://karpoke.ignaciocano.com/2018/01/30/recuperar-un-disco-corrupto/" title="Recuperar un disco corrupto">Recuperar un disco corrupto</a></li>
</ul>
<hr />
</section>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://karpoke.ignaciocano.com/2011/07/08/cambiar-la-contrasena-de-administrador-en-mysql-5-1/" title="Previous: Cambiar la contraseña de administrador en MySQL 5.1">Cambiar la contraseña de administrador en MySQL 5.1</a></li>
                <li class="next-article"><a href="https://karpoke.ignaciocano.com/2011/07/15/instalar-google-earth-en-ubuntu-natty-narwhal/" title="Next: Instalar Google Earth en Ubuntu Natty Narwhal">Instalar Google Earth en Ubuntu Natty Narwhal</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2011-07-08T15:52:00+02:00">Jul 8, 2011</time>
            <h4>Category</h4>
            <a class="category-link" href="https://karpoke.ignaciocano.com/categorias/#admin-ref">admin</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#copia-de-seguridad-ref">copia de seguridad
                    <span>6</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#getmail-ref">getmail
                    <span>1</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#gmail-ref">gmail
                    <span>4</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#google-ref">google
                    <span>7</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#maildir-ref">maildir
                    <span>1</span>
</a></li>
                <li><a href="https://karpoke.ignaciocano.com/etiquetas/#mbox-ref">mbox
                    <span>1</span>
</a></li>
            </ul>
<h4>Contacto</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/karpoke" title="" target="_blank" rel="nofollow">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="/feeds/all/rss.xml" title="" target="_blank" rel="nofollow">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </div>
        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        2010-2019 (cc) Contenido bajo licencia <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/es/">Creative Commons Reconocimiento-CompartirIgual</a>.
    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>